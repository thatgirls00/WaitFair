@BASE_URL = http://localhost:8080
@EVENT_ID = 1
@USER_ID = 141

### ì‚¬ì „ë“±ë¡ (SMS ë³¸ì¸ ì¸ì¦)
# âš ï¸ ì£¼ì˜ì‚¬í•­:
# 1. auth.httpì—ì„œ ë¨¼ì € ë¡œê·¸ì¸í•˜ì—¬ ACCESS_TOKENì„ ì„¤ì •í•˜ì„¸ìš”
# 2. sms.httpì—ì„œ "SMS ì¸ì¦ë²ˆí˜¸ ë°œì†¡" ìš”ì²­ ì‹¤í–‰
# 3. ë¡œê·¸ì—ì„œ ì¸ì¦ë²ˆí˜¸ í™•ì¸ í›„ "SMS ì¸ì¦ë²ˆí˜¸ ê²€ì¦" ìš”ì²­ ì‹¤í–‰
# 4. ì¸ì¦ ì„±ê³µ í›„ ì•„ë˜ ìš”ì²­ ì‹¤í–‰ (10ë¶„ ë‚´)
# 5. birthDateëŠ” ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì‹¤ì œ ìƒë…„ì›”ì¼ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤
POST {{BASE_URL}}/api/v1/events/{{EVENT_ID}}/pre-registers
Authorization: Bearer {{ACCESS_TOKEN}}
Content-Type: application/json

{
  "phoneNumber": "01012345678",
  "birthDate": "2002-02-11",
  "agreeTerms": true,
  "agreePrivacy": true
}

> {%
    if (response.status === 200 && response.body && response.body.data) {
        client.log("âœ… ì‚¬ì „ë“±ë¡ ì„±ê³µ!");
        client.global.set("PRE_REGISTER_ID", response.body.data.id);
    } else if (response.status === 400) {
        client.log("âŒ ì‚¬ì „ë“±ë¡ ì‹¤íŒ¨");
        if (response.body && response.body.message) {
            client.log("ì˜¤ë¥˜: " + response.body.message);
            if (response.body.message.includes("íœ´ëŒ€í° ì¸ì¦")) {
                client.log("ğŸ‘‰ sms.httpì—ì„œ SMS ì¸ì¦ì„ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”!");
            }
        }
    }
%}

### ë‚´ ì‚¬ì „ë“±ë¡ ì¡°íšŒ
GET {{BASE_URL}}/api/v1/events/{{EVENT_ID}}/pre-registers/me
Authorization: Bearer {{ACCESS_TOKEN}}

### ì‚¬ì „ë“±ë¡ ì—¬ë¶€ í™•ì¸
GET {{BASE_URL}}/api/v1/events/{{EVENT_ID}}/pre-registers/status
Authorization: Bearer {{ACCESS_TOKEN}}

### ì‚¬ì „ë“±ë¡ í˜„í™© ì¡°íšŒ (ì „ì²´ ìˆ˜)
GET {{BASE_URL}}/api/v1/events/{{EVENT_ID}}/pre-registers/count

### ì‚¬ì „ë“±ë¡ ì·¨ì†Œ
DELETE {{BASE_URL}}/api/v1/events/{{EVENT_ID}}/pre-registers
Authorization: Bearer {{ACCESS_TOKEN}}
